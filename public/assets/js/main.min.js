$.fn.exists=function(t){var s=[].slice.call(arguments,1);return this.length&&t.call(this,s),this};
function applyCouponCode(e){var t=$(e).parents(".checkout_discount").find("input[name=coupon]").val();$.ajax({url:baseUrl+"ajax/shop/cart_update",type:"post",data:"code="+t,dataType:"json",success:function(e){e.success&&(message(e.success,"success"),getCart(),location.reload())}})}function getCart(){var e=$("#toploader");e.show(),$.ajax({url:baseUrl+"ajax/shop/cart_get",type:"post",dataType:"json",success:function(e){var t=e.total,s=e.price,i=e.shipping;null==t&&(t=0),null==s&&(s=0),$(".shop-info .item:first").html(t),$(".shop-info .item:last").html("$"+s),$("#shipping_price").length&&$("#shipping_price").html(i)},complete:function(){e.hide()}})}function sortBy(){$.ajax({url:baseUrl+"ajax/shop/cart_add",type:"post",data:"id="+product_id+"&quantity="+quantity,dataType:"json",success:function(e){$(".success, .warning, .attention, .information").remove(),e.success&&($("#notification").html('<div class="notification success" style="display: none;">'+e.success+'<img src="catalog/view/theme/leisure/images/close.png" alt="" class="close" /></div>'),message(e.success,"success"),$(".success").fadeIn("slow"),$("html, body").animate({scrollTop:0},"slow"),getCart())}})}function doaddtocart(e){var t=$(e).parents("form").find("input[name=product_id]").val(),s=$(e).parents("form").find("input[name=qty]").val(),i=$(e).parents("form").find("input[name=price]").val(),n=getOptions(e),a=$(".smallgif");a.show(),$(e).attr("disabled")||($(e).attr("disabled","disabled"),$.ajax({url:baseUrl+"ajax/shop/cart_add",type:"post",data:"id="+t+"&qty="+s+"&price="+i+"&options="+JSON.stringify(n),dataType:"json",success:function(e){e.success?(clearTimeout(timeuntillnextcall),_gaq.push(["_trackPageview","/add_product_to_cart.html"]),_gaq.push(["_trackEvent","Add to Cart","Sum",e.name,Number(s*i)]),_gaq.push(["_trackEvent","Add to Cart","Items",e.name,Number(s)]),message(e.success,"success"),getCart()):message(e.warning,"warning")},complete:function(){$(e).removeAttr("disabled"),a.hide()}}))}function addToCart(e){1==updating_price?timeuntillnextcall=setTimeout(addToCart(e),1e3):(doaddtocart(e),clearTimeout(timeuntillnextcall))}function getOptions(e){var t=[];return $(e).parents("form").find("select[name^=option_]").each(function(){var e=$(this).attr("name").split("_")[1],s=$(this).val();if(""!=s){var i={option_id:e,option_value:s};t.push(i)}}),t}function removeFromCart(e){var t=$(this).parent().parent().find(".qtyloader");t.show(),$.ajax({url:baseUrl+"ajax/shop/cart_update",type:"post",data:"rowid="+e+"&qty=0",dataType:"json",success:function(e){e.success&&(message(e.success,"success"),getCart(),$(".full_page").html(e.data.page))}})}function addToWishList(e){$.ajax({url:baseUrl+"ajax/shop/wishlist_add",type:"post",data:"id="+e,dataType:"json",success:function(e){e.success&&(message(e.success,"success"),$("#wishlist-total").html(e.total)),e.error&&message(e.error,"error")}})}function removeFromWishList(e){$.ajax({url:baseUrl+"ajax/shop/wishlist_remove",type:"post",data:"id="+e,dataType:"json",success:function(t){t.success&&(message(t.success,"success"),$("#wishlist-total").html(t.total),$("#product-"+e).fadeOut("slow",function(){$(this).remove()}))}})}function message(e,t){void 0==t&&(t="info"),$("#notification").hide(),$("#notification").html('<div class="notification '+t+'">'+e+'<img src="'+themeUrl+'img/close.png" alt="" class="close" /></div>'),$("#notification").fadeIn("hide"),$("html, body").animate({scrollTop:0},"slow")}$.ajaxSetup({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")}}),$(function(){$(".navbar").exists(function(){new Navigation(this,$(".hero-nav-change"),$(".sticky-fixed-nav"))}),$(".masonry").exists(function(){new Masonry(this)}),$("#user-nav-bar").exists(function(){new Profile(this)}),$(".toggle-switch").exists(function(){new ToggleSwitch(this)}),$("#map_canvas").exists(function(){map=new Map}),$(".mb-scroll").exists(function(){$(this).mCustomScrollbar()}),new Placeholder});var updating_price=0;!function(e){function t(t,s){function i(e){l||(l=!0,o.start&&o.start(e,c))}function n(e,t){l&&(clearTimeout(a),a=setTimeout(function(){l=!1,o.stop&&o.stop(e,c)},t>=0?t:o.delay))}var a,o=e.extend({start:null,stop:null,delay:400},s),c=e(t),l=!1;c.keypress(i),c.keydown(function(e){(8===e.keyCode||46===e.keyCode)&&i(e)}),c.keyup(n),c.blur(function(e){n(e,0)})}e.fn.typing=function(e){return this.each(function(s,i){t(i,e)})}}(jQuery),$(document).ready(function(){function e(){document.body.removeEventListener("click",t),window.removeEventListener("scroll",t)}function t(){_gaq.push(["_trackEvent","Inital interaction","scrool or click","trigered"]),e()}document.body.addEventListener("click",t),window.addEventListener("scroll",t),$("#searchform").submit(function(e){e.preventDefault();var t=$("#searchfield").val();if(""!=t){var s=encodeURIComponent(t);window.location.replace(baseUrl+"shop/search/name/"+s)}}),$("select[name^=option_]").live("change",function(){this_select=$(this);var e=getOptions(this_select),t=$(this).parents("form").find("input[name=product_id]").val();$.ajax({url:baseUrl+"ajax/shop/update_product_price",type:"post",data:"id="+t+"&options="+JSON.stringify(e),dataType:"json",success:function(e){$(this_select).parents("form").find(".old_price").html(e.price_old!==e.price?"$"+e.price_old:""),$(this_select).parents("form").find(".pr_price big").html("$"+e.price),$(this_select).parents("form").find("input[name=price]").val(e.price)},complete:function(){}})}),$("#subscribe_to_newsletter").click(function(){var e=$(this).prev(),t=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,6}$/i,s=$(this).prev().val();""!=s&&t.test(s)?($("#nlettergif").show(),$.ajax({url:baseUrl+"ajax/shop/insert_newsletter_user",type:"post",data:"email="+s,dataType:"json",success:function(t){t.success?(message(t.success,"success"),e.val(""),e.attr("disabled","disabled")):message(t.warning,"warning")},complete:function(){$("#nlettergif").hide()}})):message("Please enter valid email address","warning")}),$(".close").live("click",function(){$(this).closest(".notification").slideUp(200),$(this).closest("#notification").slideUp(200)}),$("#billing-shipping input[name=billing_to_shipping]").is(":checked")?($("#billing-shipping .col-2 #shipping").hide(),$("#billing-shipping .col-2 .step-message").show()):($("#billing-shipping .col-2 #shipping").show(),$("#billing-shipping .col-2 .step-message").hide()),$("#billing-shipping input[name=billing_to_shipping]").live("click",function(){$(this).is(":checked")?($("#billing-shipping .col-2 #shipping").hide(),$("#billing-shipping .col-2 .step-message").show()):($("#billing-shipping .col-2 #shipping").show(),$("#billing-shipping .col-2 .step-message").hide())}),$("input[name=payment_type]").live("click",function(){"authorize"==$(this).val()||"custom_cc"==$(this).val()?$(".credit_card_box").show():$(".credit_card_box").hide()})}),timeuntillnextcall=null,$(document).ajaxStop(function(){}),$(function(){$("div").hasClass("triger_dropdown_event")&&$(document).on("click","div.triger_dropdown_event",function(e){e.preventDefault(),openSelect($(this).siblings("select"))})});var openSelect=function(e){var t=$(e)[0],s=!1;if(document.createEvent){var i=document.createEvent("MouseEvents");i.initMouseEvent("mousedown",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),s=t.dispatchEvent(i)}else t.fireEvent&&(s=t.fireEvent("onmousedown"))};
var Navigation=function(s,t,i){this.nav=s,this.hero=t,this.sticky=i,this.stickyTop=0,this.height=s.height(),this.heroClass="nav-hero",this.scroll=0,this.init(),this.checkScrollPosition()};Navigation.prototype={constructor:Navigation,init:function(){this.hero.length>0&&this.addHeroClass(),this.sticky.length>0&&(this.stickyTop=this.sticky.offset().top,this.stick())},addHeroClass:function(){this.nav.addClass(this.heroClass)},removeHeroClass:function(){this.nav.removeClass(this.heroClass)},addStickyClass:function(){this.sticky.addClass("navbar-fixed-top"),this.sticky.css({top:this.height}),$(".sticky-wrapper").css({"margin-top":this.sticky.outerHeight(!0)})},removeStickyClass:function(){this.sticky.removeClass("navbar-fixed-top"),this.sticky.css({top:0}),$(".sticky-wrapper").css({"margin-top":0})},checkScrollPosition:function(){var s=this;$(window).scroll(function(){s.scroll=$(window).scrollTop(),s.stick(),s.scroll+s.height>=s.hero.outerHeight()?s.removeHeroClass():s.addHeroClass()})},stick:function(){var s=this;s.scroll>s.stickyTop-this.sticky.outerHeight(!0)?s.addStickyClass():s.removeStickyClass()}};
var Profile=function(t){this.nav=t,this.top=0,this.speed=400,this.init()};Profile.prototype={constructor:Profile,init:function(){this.top=Math.floor(this.nav.offset().top-this.nav.outerHeight(!0));var t=this;$(document).on("click",".nav-pills li a",function(){destination=$(this).attr("href"),$(".nav-pills li").removeClass("active"),$(this).parent().addClass("active"),$(".profile-panels").addClass("hidden"),$(destination).removeClass("hidden"),new Masonry($(".masonry")),t.scroll()})},scroll:function(){}};
var Masonry=function(n){this.masonry=n,this.init()};Masonry.prototype={constructor:Masonry,init:function(){var n=this.masonry;n.masonry({itemSelector:".masonry-item",isInitLayout:!1,transitionDuration:0}),n.masonry}};
var ToggleSwitch=function(t){this.button=t,this.html="",this.toggledHtml="",this.init()};ToggleSwitch.prototype={constructor:Masonry,init:function(){var t=this;this.button.on("click",function(i){i.preventDefault(),t.changeState(),$($(this).attr("data-target")).collapse("toggle")})},changeState:function(){this.html=this.button.html(),this.toggledHtml=this.button.data("toggled"),this.button.html(this.toggledHtml),this.button.data("toggled",this.html)}};
function Map(){this.lat=51.53,this.lng=-.12,this.zoom=12,this.init()}Map.prototype={constructor:Map,init:function(){var e=document.createElement("script");e.src="http://www.google.com/jsapi?key=AIzaSyAha5JzFciZvU_rWu_2d2UVl7o4Z8LWdcg&callback=map.load",e.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(e)},load:function(){self=this,google.load("maps","3",{other_params:"sensor=false",callback:function(){var e=new google.maps.Map(document.getElementById("map_canvas"),{center:new google.maps.LatLng(self.lat,self.lng),zoom:self.zoom,mapTypeId:google.maps.MapTypeId.ROADMAP});google.maps.event.trigger(e,"resize")}})}};
var Placeholder=function(){this.colour="#ebedee",this.size=0,this.themes()};Placeholder.prototype={constructor:Placeholder,themes:function(){self=this,Holder.addTheme("upload",{background:self.colour,foreground:self.colour,size:self.size})}};