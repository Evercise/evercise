<?php if (empty($pastFutureCount) || $pastFutureCount['future'] == 0): ?> 	
	
	<div class="dashboard-title">
		<?php echo HTML::image('img/cat-list.png', 'caegory list', array('class' => 'center cat-list-img')); ?>
		<br>
		<br>
		<p>Here you will be able to see the classes you have attended, you will be able view your class history and rate them.</p>
	</div>

	<div class="dashboard-body center">
	<?php echo HTML::image('img/search.png', 'caegory list', array('class' => 'center search-img')); ?>
		<h5>You don&apos;t seem to have any classes coming up,<br> you can search for new classes here.</h5>

		<?php echo HTML::linkRoute('evercisegroups.search', 'Discover classes', null , ['class' => 'btn btn-yellow center mt10']); ?>
	</div>
	
<?php else: ?>
	<div class="row9">
			<?php foreach ($sessions as $session): ?>
			<?php if (new DateTime($session->date_time) > new DateTime() ): ?> 
				<div  class="class-list-box">
					<div class="class-list-img-wrap">
						<a href="<?php echo URL::to('evercisegroups/'.$groups[$session->evercisegroup_id]->id); ?>">
						<?php echo HTML::image('profiles/'.$groups[$session->evercisegroup_id]->user->directory .'/'. $groups[$session->evercisegroup_id]->image, 'class image', array('class' => 'class-list-img')); ?>
						</a>	
					</div>
					
					<div class="list-details">
						<h4><?php echo $groups[$session->evercisegroup_id]->name; ?></h4>
						<?php echo HTML::image('img/clock_icon.png', 'date image', array('class' => 'block-icon mr10 float-left')); ?>
						<strong><?php echo date('H:ia d-M-y', strtotime($session->date_time)); ?></strong>
					</div>
					<div class="list-info">
					
						<div class="donut-chart">
								<?php if(isset($members[$session->id])): ?>
									<?php echo $__env->make('widgets.donutChart', array('label' => 'Total Class Bookings', 'width' => 120 , 'id' => 'total-class-bookings_'.$session->id,'total' => $groups[$session->evercisegroup_id]->capacity, 'fill' => $members[$session->id] ), array_except(get_defined_vars(), array('__data', '__path')))->render(); ?>
								<?php else: ?>
								 	<?php echo $__env->make('widgets.donutChart', array('label' => 'Total Class Bookings', 'width' => 120 , 'id' => 'total-class-bookings1','total' => 0 , 'fill' => 0), array_except(get_defined_vars(), array('__data', '__path')))->render(); ?>
								<?php endif; ?>
						</div>
								

						<div class="list-row">
							<div class="list-row-section">
								<span><strong>&pound;</strong><?php echo $session->price; ?></span>
							</div>
							<div class="list-row-section">
							<span><?php echo HTML::decode(HTML::linkRoute('sessions.mail_trainer', '<img src="/img/mail_icon.png"></img>', array('sessionId'=>$session->id, 'trainerId' => $groups[$session->evercisegroup_id]->user_id), array('class'=>'mail_trainer session-icon '))); ?> Mail Trainer</span>
								
							</div>
							<div class="list-row-section">
								<?php if( (new DateTime($session->date_time)) > (new DateTime())->add(new DateInterval('P2D'))): ?>
									<div><?php echo HTML::link("/sessions/".$session->id."/leave", 'Leave Session', array('data-href' => "/sessions/".$session->id."/leave", 'class'=>'btn-leave-session')); ?>
									</div>
								<?php else: ?>
									<p>You cannot leave this session as it takes place in less than two days</p>
								<?php endif; ?>
							</div>
						</div>
					</div>
					
				</div>
			<?php endif; ?>
			<?php endforeach; ?>
	</div>
<?php endif; ?>